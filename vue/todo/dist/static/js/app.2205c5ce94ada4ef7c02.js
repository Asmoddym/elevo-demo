webpackJsonp([1],{"/zCi":function(t,e){},"1Hub":function(t,e){},"1zIA":function(t,e){},Cipe:function(t,e){},EDkk:function(t,e){},EQZV:function(t,e){},"F+99":function(t,e){},F0i4:function(t,e){},GC9l:function(t,e){},IJAc:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("1Hub")},null,null).exports,o=a("/ocq"),r=a("pFYg"),c=a.n(r),l=a("BO1k"),u=a.n(l),d=a("d7EF"),v=a.n(d),p=a("//Fk"),m=a.n(p);window.axios=a("mtWM");var f=window.axios.create({baseURL:"/"});f.interceptors.request.use(function(t){return t.headers["Content-Type"]="application/json",t.headers.Accept="application/json",t.headers["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t}),f.interceptors.response.use(function(t){return t},function(t){return m.a.reject(t)});var _=function(t){return f.post("/collaborators/"+window.current_user.uid+"/update_notifications_settings",t)},h=function(t){return f.put("/collaborators/"+window.current_user.uid,t)},w=function(t){return f.put(""+window.password_update_url,t)},b=function(){return f.get("/collaborators/"+window.current_user.uid+"/get_default_notifiable_events_settings")},g={name:"Header",props:{current_user:{required:!0,type:Object/Array,default:{}}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_container gradient_header"},[a("label",{staticClass:"avatar",attrs:{for:"avatar"}},[a("img",{staticClass:"preview_avatar",attrs:{src:t.current_user.avatar}}),t._v(" "),a("div",{staticClass:"avatar_hover"},[a("svg",{staticClass:"color_fill",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("g",{staticClass:"fa-group"},[a("path",{staticClass:"fa-secondary",attrs:{fill:"currentColor",d:"M344 288a88 88 0 1 1-88-88 88.13 88.13 0 0 1 88 88z",opacity:"0.4"}}),a("path",{staticClass:"fa-primary",attrs:{fill:"currentColor",d:"M464 96h-88l-12.4-32.9A47.93 47.93 0 0 0 318.7 32H193.2a47.93 47.93 0 0 0-44.9 31.1L136 96H48a48 48 0 0 0-48 48v288a48 48 0 0 0 48 48h416a48 48 0 0 0 48-48V144a48 48 0 0 0-48-48zM256 408a120 120 0 1 1 120-120 120.1 120.1 0 0 1-120 120z"}})])])])]),t._v(" "),a("div",{staticClass:"infos"},[a("div",{staticClass:"name"},[t._v(t._s(t.current_user.name))]),t._v(" "),a("div",{staticClass:"text"},[t._v(t._s(t.current_user.email))]),t._v(" "),a("div",{staticClass:"text"},[t._v(t._s(t.current_user.role))])])])},staticRenderFns:[]};var C=a("VU/8")(g,y,!1,function(t){a("1zIA")},"data-v-7b65bdcb",null).exports,k={name:"Checkbox",data:function(){return{activate:!1}},props:{checked:{required:!1,type:Object/Array,default:{}},disabled:{required:!1,type:Boolean,default:!1},name:{required:!1,type:String,default:""}},mounted:function(){this.activate=this.checked},methods:{change:function(){this.disabled||(this.activate=!this.activate,this.$emit("input",this.activate),this.$emit("change",this.$vnode.key,this.activate))}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"_container"},[e("input",{staticStyle:{display:"none"},attrs:{type:"checkbox",name:this.name,disabled:this.disabled},domProps:{checked:this.activate},on:{change:this.change}}),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"checkbox"},[e("span",{staticClass:"box"})])}]};var I={name:"Form",components:{Checkbox:a("VU/8")(k,x,!1,function(t){a("F0i4")},"data-v-2fe75512",null).exports},props:{form:{required:!1,type:Object/Array,default:{}}},mounted:function(){for(var t=document.querySelectorAll("select"),e=0;e<t.length;e++)new Choices(t[e],{searchEnabled:!0,shouldSort:!1});var a=this.$refs.selectInterfaceLanguage,n=a?a[0]:void 0;n&&n.addEventListener("change",function(t){"en"!==t.currentTarget.value&&"fr"!==t.currentTarget.value&&window.swal({title:"Help us improve our languages!",text:"This language is a beta version.<br><br>If you have any suggestions that could help us improve it, reach out to us!<br><br>Thanks!",showCancelButton:!1,html:!0,confirmButtonColor:"#E01765",confirmButtonText:window.I18n.t("customization.swal.ok_btn")})})},methods:{toggleInputPassword:function(t){t.currentTarget.parentNode.children[0].type="text"===t.currentTarget.parentNode.children[0].type?"password":"text",t.currentTarget.parentNode.children[0].focus()},readImage:function(t){var e=t.target.files[0];if(e.type&&-1===e.type.indexOf("image"))console.log("File is not an image.",e.type,e);else{var a=new FileReader;a.addEventListener("load",function(t){window.avatars=document.querySelectorAll(".preview_avatar");for(var a=0;a<window.avatars.length;a++)window.avatars[a].src=t.target.result;this.$refs.avatar_base64[0].value=t.target.result,this.$refs.avatar_name[0].innerHTML=e.name}.bind(this)),a.readAsDataURL(e)}},getUrlAvatarDefault:function(){var t=[window.current_user.firstname.length>0?window.current_user.firstname[0]:"",window.current_user.lastname.length>0?window.current_user.lastname[0]:""];return"https://www.gravatar.com/avatar/d45fb7816136ba3d3c6e68b74c2c904c?s=120&d=https%3A%2F%2Fui-avatars.com%2Fapi%2F"+t[0]+"%2520"+t[1]+"%2F128%2Fd5f6fd%2F0abde3"},emptyInput:function(){var t=this.getUrlAvatarDefault();window.avatars=document.querySelectorAll(".preview_avatar");for(var e=0;e<window.avatars.length;e++)window.avatars[e].src=t;this.$refs.avatar_base64_url[0].value=t,this.$refs.avatar_base64[0].value="",this.$refs.avatar_name[0].innerHTML=""}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container_form"},t._l(t.form,function(e,n){return a("div",{key:n,staticClass:"line"},t._l(e,function(e,n){return a("div",{key:n},["list-checkbox"!==e.type&&"file"!==e.type?a("label",[e.labelHtml?a("div",{domProps:{innerHTML:t._s(e.labelHtml)}}):a("div",[t._v(t._s(e.label))]),t._v(" "),"select"==e.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],ref:e.ref,refInFor:!0,attrs:{name:e.name,multiple:!0===e.multiple&&"multiple",id:e.id},on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"value",a.target.multiple?n:n[0])}}},[e.optgroup?t._t("default",t._l(e.optgroup,function(e,n){return a("optgroup",{key:"optgroup_"+n,attrs:{label:e.label}},t._l(e.options,function(e,n){return a("option",{key:"option_"+n,domProps:{value:e.value}},[t._v(t._s(e.text))])}),0)})):t._t("default",t._l(e.options,function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(t._s(e.text))])}))],2):"password"==e.type?a("div",{staticClass:"input_password"},["checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],attrs:{autocomplete:"off",name:e.name,disabled:!0===e.disabled,type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(e.value)?t._i(e.value,e.value)>-1:e.value},on:{change:function(a){var n=e.value,s=a.target,i=!!s.checked;if(Array.isArray(n)){var o=e.value,r=t._i(n,o);s.checked?r<0&&t.$set(e,"value",n.concat([o])):r>-1&&t.$set(e,"value",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"value",i)}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],attrs:{autocomplete:"off",name:e.name,disabled:!0===e.disabled,type:"radio"},domProps:{value:e.value,checked:t._q(e.value,e.value)},on:{change:function(a){return t.$set(e,"value",e.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],attrs:{autocomplete:"off",name:e.name,disabled:!0===e.disabled,type:e.type},domProps:{value:e.value,value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),t._v(" "),a("div",{staticClass:"icon_view",on:{click:function(e){return e.preventDefault(),t.toggleInputPassword(e)}}},[a("i",{staticClass:"fal fa-eye"}),a("i",{staticClass:"fal fa-eye-slash"})])]):"div"==e.type?a("div"):"span"==e.type?a("div"):"checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],attrs:{name:e.name,disabled:!0===e.disabled,type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(e.value)?t._i(e.value,e.value)>-1:e.value},on:{change:function(a){var n=e.value,s=a.target,i=!!s.checked;if(Array.isArray(n)){var o=e.value,r=t._i(n,o);s.checked?r<0&&t.$set(e,"value",n.concat([o])):r>-1&&t.$set(e,"value",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"value",i)}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],attrs:{name:e.name,disabled:!0===e.disabled,type:"radio"},domProps:{value:e.value,checked:t._q(e.value,e.value)},on:{change:function(a){return t.$set(e,"value",e.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],attrs:{name:e.name,disabled:!0===e.disabled,type:e.type},domProps:{value:e.value,value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})]):a("div",["list-checkbox"==e.type?a("span",[e.labelHtml?a("div",{domProps:{innerHTML:t._s(e.labelHtml)}}):a("div",[t._v(t._s(e.label))]),t._v(" "),a("div",{staticClass:"checkbox_list"},t._l(e.list,function(e,n){return a("label",{key:n},[e.icon?a("span",{staticClass:"icon"},[a("i",{staticClass:"fa-fw",class:e.icon})]):t._e(),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(e.text))]),t._v(" "),a("Checkbox",{staticClass:"checkbox",attrs:{checked:e.checked,name:e.name}})],1)}),0)]):"file"==e.type?a("span",[e.labelHtml?a("div",{domProps:{innerHTML:t._s(e.labelHtml)}}):a("div",[t._v(t._s(e.label))]),t._v(" "),a("label",{staticClass:"input_file"},[a("input",{attrs:{id:"avatar",type:"file"},on:{change:t.readImage}}),t._v(" "),a("input",{ref:"avatar_base64",refInFor:!0,attrs:{type:"hidden",name:e.name}}),t._v(" "),a("input",{ref:"avatar_base64_url",refInFor:!0,attrs:{type:"hidden",name:e.name+"_withurl"}}),t._v(" "),a("div",{staticClass:"preview"},[a("img",{staticClass:"preview_avatar",attrs:{src:e.value}})]),t._v(" "),a("div",{staticClass:"filename"},[a("span",{ref:"avatar_name",refInFor:!0,staticClass:"name"},[t._v(t._s(e.value.split(/(\\|\/)/g).pop()))]),t._v(" "),a("span",{staticClass:"remove",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.emptyInput(e)}}},[a("i",{staticClass:"fal fa-times"})])]),t._v(" "),a("div",{staticClass:"button"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}})])])])]):t._e()])])}),0)}),0)},staticRenderFns:[]};var F=a("VU/8")(I,$,!1,function(t){a("mgdi"),a("ZI6v")},"data-v-472d4c0f",null).exports,A={name:"Infos",components:{Form:F},data:function(){return{buttons:{schedules:window.I18n.t("collaborators.edit.edit_timetable"),save:window.I18n.t("onboarding.buttons.save")},formated_timezones:window.timezones,form:[[{type:"text",label:window.I18n.t("team.edit.firstname"),name:"firstname",value:window.current_user.firstname},{type:"text",label:window.I18n.t("team.edit.lastname"),name:"lastname",value:window.current_user.lastname},{type:"text",label:window.I18n.t("team.edit.nickname"),name:"nickname",value:window.current_user.nickname}],[{type:"email",label:window.I18n.t("team.edit.email"),name:"email",value:window.current_user.email}],[{type:"text",label:window.I18n.t("roles.index.role"),name:"role",value:window.current_user.role,disabled:!0}],[{type:"select",labelHtml:window.I18n.t("team.edit.select_widgets")+' <img src="/icons/question-circle-solid.svg" class="icon_help" data-title="'+window.I18n.t("collaborators.edit.can_change_brands")+'" data-direction-default="top"/>',name:"widgets",multiple:!0,value:window.current_user.widgets,options:window.widgets}],[{type:"file",labelHtml:window.I18n.t("team.edit.avatar_upload")+"<br>"+window.I18n.t("team.edit.avatar_create")+' <a href="avatar" class="create_avatar">'+window.I18n.t("team.edit.yours")+"</a>",name:"avatar",value:window.current_user.avatar}],["Slaask"===window.appName?{type:"span",labelHtml:window.I18n.t("team.edit.timezone")+' <span style="font-weight: normal;">'+window.formated_timezone+' (<a style="font-size: .8em;" href="https://slack.com/account/settings" target="_blank">'+window.I18n.t("team.edit.change")+"</a>)</span>"}:{type:"select",label:window.I18n.t("team.edit.timezone"),name:"xeno_timezone",value:window.current_user.xeno_timezone,options:window.timezones}],[{type:"select",label:window.I18n.t("team.edit.select_lang"),name:"languages",multiple:!0,value:window.current_user.language_ids,options:window.spoken_languages}]],image:"Slaask"===window.appName?"/edit/edit-name-slaask.svg":"/edit/edit-name-xeno.svg"}},methods:{submit:function(){this.$emit("submit",new FormData(this.$refs.form_infos),"user","informations",function(t){t.data.success?window.notifyWithTimeout("success",window.I18n.t("collaborators.edit.update_informations_success"),1500):window.notifyWithTimeout("error",window.I18n.t("collaborators.edit.error_informations_"+t.data.error),1500)})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{ref:"form_infos",staticClass:"_container",attrs:{action:"",method:"post"},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submit(e)}}},[a("div",{staticClass:"form"},[a("Form",{attrs:{form:t.form}})],1),t._v(" "),a("div",{staticClass:"container_sticky"},[a("div",{staticClass:"content"},[a("button",{staticClass:"btn btn-success save",attrs:{type:"submit"}},[t._v(t._s(t.buttons.save))]),t._v(" "),a("button",{staticClass:"btn btn-info btn-inverse schedules",attrs:{type:"button"}},[t._v(t._s(t.buttons.schedules))]),t._v(" "),a("img",{staticClass:"illustration",attrs:{src:t.image}})])])])},staticRenderFns:[]};var E=a("VU/8")(A,P,!1,function(t){a("YMl0"),a("Cipe")},"data-v-34467b5e",null).exports,N={name:"Password",components:{Form:F},data:function(){return{buttons:{save:window.I18n.t("register.password_update")},form:[[{type:"password",label:window.I18n.t("collaborators.edit.current_password"),name:"current_password",value:""}],[{type:"password",label:window.I18n.t("collaborators.edit.new_password"),name:"password",value:""}],[{type:"password",label:window.I18n.t("collaborators.edit.new_password_confirmation"),name:"password_confirmation",value:""}],[{type:"hidden",name:"utf8",value:"true"},{type:"hidden",name:"_method",value:"put"},{type:"hidden",name:"authenticity_token",value:""}]],image:"Slaask"===window.appName?"/edit/edit-password-slaask.svg":"/edit/edit-password-xeno.svg"}},methods:{submit:function(){this.$emit("submit-password",new FormData(this.$refs.form_password))}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{ref:"form_password",staticClass:"_container",attrs:{action:"",method:"post","accept-charset":"UTF-8"},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submit(e)}}},[a("div",{staticClass:"form"},[a("Form",{attrs:{form:t.form}})],1),t._v(" "),a("div",{staticClass:"container_sticky"},[a("div",{staticClass:"content"},[a("button",{staticClass:"btn btn-success save",attrs:{type:"submit","border-efx":"true"}},[t._v(t._s(t.buttons.save))]),t._v(" "),a("img",{staticClass:"illustration",attrs:{src:t.image}})])])])},staticRenderFns:[]};var H=a("VU/8")(N,T,!1,function(t){a("F+99")},"data-v-311ac8f3",null).exports,q={name:"Interface",components:{Form:F},data:function(){return{text:{restore:window.I18n.t("collaborators.edit.notifications_page.restore")},buttons:{save:window.I18n.t("onboarding.buttons.save")},form:[[{type:"select",label:window.I18n.t("team.edit.change_profile_language"),name:"interface_language",value:window.current_user.interface_language,optgroup:[{label:window.I18n.t("collaborators.edit.official_languages"),options:window.found_official},{label:window.I18n.t("collaborators.edit.beta_languages"),options:window.languages}],ref:"selectInterfaceLanguage"}],[{type:"list-checkbox",label:window.I18n.t("collaborators.edit.menus_intro"),list:window.available_menus}],[{type:"list-checkbox",label:window.I18n.t("collaborators.edit.keyboard_shortcuts"),list:[{type:"checkbox",text:window.I18n.t("collaborators.edit.inbox_keyboard_shortcuts"),name:"shortcut",checked:!0}]}]],image:"Slaask"===window.appName?"/edit/edit-menu-slaask.svg":"/edit/edit-menu-xeno.svg"}},methods:{submit:function(){this.$emit("submit",new FormData(this.$refs.form_interface),"user","interface",function(t){window.notifyWithTimeout(t.data.success?"success":"error",window.I18n.t("collaborators.edit.menu_items_update_"+(t.data.success?"success":t.data.error)),1500),t.data.success&&setTimeout(function(){document.location.reload()},1500)})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{ref:"form_interface",staticClass:"_container",attrs:{action:"",method:"post"},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submit(e)}}},[a("div",{staticClass:"form"},[a("Form",{attrs:{form:t.form}})],1),t._v(" "),a("div",{staticClass:"container_sticky"},[a("div",{staticClass:"content"},[a("button",{staticClass:"btn btn-success save",attrs:{type:"submit","border-efx":"true"}},[t._v(t._s(t.buttons.save))]),t._v(" "),a("img",{staticClass:"illustration",attrs:{src:t.image}})])])])},staticRenderFns:[]};var S=a("VU/8")(q,D,!1,function(t){a("/zCi")},"data-v-d9c21f40",null).exports,U=a("dDoS"),z={name:"Caption",directives:{ClickOutside:a.n(U).a},props:{caption:{required:!0,type:Object/Array,default:{name:"Name",icon:"Icon",description:"Description"}}},data:function(){return{text:{show_more:window.I18n.t("handler.slack.show_more"),hide:window.I18n.t("conversations.index.hide")},open:!1}},methods:{toggle:function(){this.open=!this.open},close:function(){this.open=!1}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],staticClass:"_caption",class:{open:t.open},on:{click:function(e){return t.toggle()}}},[a("div",{staticClass:"title"},[a("span",{staticClass:"icon"},[a("i",{class:t.caption.icon})]),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.caption.name))])]),t._v(" "),a("div",{staticClass:"description"},[t._v(t._s(t.caption.description))]),t._v(" "),a("div",{staticClass:"show_more"},[a("span",[t._v(t._s(t.open?t.text.hide:t.text.show_more))])])])},staticRenderFns:[]};var V={name:"Captions",components:{Caption:a("VU/8")(z,R,!1,function(t){a("fhmM")},"data-v-5a0c52e8",null).exports},props:{captions:{required:!0,type:Object/Array,default:{name:"Name",icon:"Icon",description:"Description"}}},data:function(){return{text:{show_more:window.I18n.t("handler.slack.show_more")}}}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.captions,function(t,a){return e("div",{key:a,staticClass:"container_caption"},[e("Caption",{attrs:{caption:t}})],1)}),0)},staticRenderFns:[]},j=a("VU/8")(V,O,!1,null,null,null).exports,M={name:"EventCheckbox",props:{checked:{required:!1,type:Object/Array,default:{}}},methods:{change:function(){this.$emit("change",{key:this.checked.key,value:!this.checked.value})}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"_container",on:{click:this.change}},[e("div",{staticClass:"checkbox",class:{checked:this.checked.value}},[e("span",{staticClass:"box"})])])},staticRenderFns:[]};var W=a("VU/8")(M,L,!1,function(t){a("jKR+")},"data-v-527feebe",null).exports,B={name:"Checkboxs",components:{EventCheckbox:W},data:function(){return{}},props:{values:{required:!0,type:Object/Array,default:{}}},methods:{change:function(t){switch(t.key){case"default":t.value&&(this.values.email=!1,this.values.device=!1,this.values.browser=!1);break;case"email":case"device":case"browser":t.value&&(this.values.default=!1)}this.values[t.key]=t.value,this.$emit("change",this.$vnode.key,this.values)}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.values,function(e,n){return a("EventCheckbox",{key:n,attrs:{checked:{key:n,value:e}},on:{change:t.change}})}),1)},staticRenderFns:[]},Z=a("VU/8")(B,G,!1,null,null,null).exports,J={name:"OptionCheckbox",props:{checked:{required:!1,type:Boolean,default:!1},disabled:{required:!1,type:Boolean,default:!1}},methods:{change:function(){this.$emit("change",this.$vnode.key,!this.checked)}}},K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"_container",on:{click:this.change}},[e("div",{staticClass:"checkbox",class:{checked:!this.disabled&&this.checked}},[e("span",{staticClass:"box"})])])},staticRenderFns:[]};var Y={name:"NotificationsGroup",components:{EventCheckbox:W,OptionCheckbox:a("VU/8")(J,K,!1,function(t){a("EDkk")},"data-v-5b9db828",null).exports,Checkboxs:Z},data:function(){return{open:!1,test:{default:!0,device:!1,email:!1}}},props:{captions:{required:!0,type:Object/Array,default:{}},group:{required:!0,type:Object/Array,default:{}},closable:{required:!1,type:Boolean,default:!1}},methods:{toggle:function(){!0===this.closable&&(this.open=!this.open)},close:function(){!0===this.closable&&(this.open=!1)},change:function(t,e){this.$emit("change",t,e)},selectAllColumn:function(t){this.$emit("selectAllColumn",t)}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.closable?a("div",{staticClass:"group_notifs",class:{open:t.open||!t.closable}},[a("div",{staticClass:"title no-select",on:{click:t.toggle}},[a("span",{staticClass:"icon"},[a("i",{class:t.group.icon})]),t._v(" "),a("span",{staticClass:"_label"},[t._v(t._s(t.group.label))]),t._v(" "),a("span",{staticClass:"container_buttons"},[t.open?a("span",{staticClass:"index_columns",on:{click:function(t){t.stopPropagation()}}},t._l(t.captions,function(e,n){return a("span",{key:n,attrs:{"data-title":e.tooltip},on:{click:function(a){return t.selectAllColumn([t.$vnode.key,e.key])}}},[a("i",{staticClass:"fa-fw",class:e.icon})])}),0):a("div",{staticClass:"_caret"},[a("i",{staticClass:"fal fa-angle-down"})])])]),t._v(" "),a("transition",{attrs:{name:"anim_show"}},[t.open?a("div",{staticClass:"container_notifs"},[a("div",{staticClass:"notifications"},t._l(t.group.list,function(e,n){return a("span",{key:n},[a("div",{staticClass:"item_notif"},[a("span",{staticClass:"_label"},[t._v(t._s(e.label))]),t._v(" "),a("span",{staticClass:"container_buttons"},[a("Checkboxs",{key:"paramNotif_"+t.$vnode.key+"_"+n,staticClass:"index_columns",attrs:{values:e.value},on:{change:t.change}})],1)]),t._v(" "),t._l(e.options,function(s,i){return a("div",{key:"option_"+i,staticClass:"item_notif item_notif_option"},[a("OptionCheckbox",{key:"option_"+t.$vnode.key+"_"+n+"_"+i,attrs:{checked:s.value,disabled:!e.value.default&&!e.value.device&&!e.value.email},on:{change:t.change}}),t._v(" "),a("span",{staticClass:"_label label_option",class:{_disabled:!e.value.default&&!e.value.device&&!e.value.email}},[t._v(t._s(s.label))]),t._v(" "),a("span",{staticClass:"container_buttons"},[a("div",{staticClass:"index_columns"},[a("span"),a("span"),a("span"),a("span")])])],1)})],2)}),0)]):t._e()])],1):a("div",{staticClass:"group_notifs no_closable"},[a("div",{staticClass:"title no-select"},[a("span",{staticClass:"icon"},[a("i",{class:t.group.icon})]),t._v(" "),a("span",{staticClass:"_label"},[t._v(t._s(t.group.label))])]),t._v(" "),a("div",{staticClass:"container_notifs"},[a("div",{staticClass:"notifications"},t._l(t.group.list,function(e,n){return a("label",{key:"option_"+n,staticClass:"item_notif"},[a("span",{staticClass:"_label"},[t._v(t._s(e.label))]),t._v(" "),a("OptionCheckbox",{key:"paramNotif_"+t.$vnode.key+"_"+n,attrs:{checked:e.value},on:{change:t.change}})],1)}),0)])])])},staticRenderFns:[]};var X={name:"Notifications",components:{Captions:j,NotificationsGroup:a("VU/8")(Y,Q,!1,function(t){a("GC9l")},"data-v-5a5508ea",null).exports},data:function(){return{text:{restore:window.I18n.t("collaborators.edit.notifications_page.restore"),cancel:window.I18n.t("onboarding.buttons.cancel"),save:window.I18n.t("onboarding.buttons.save")},notifications:window.notifiable_events_settings}},methods:{change:function(t,e){var a=t.split("_");switch(a[0]){case"paramNotif":this.notifications.groups[a[1]].list[a[2]].value=e;break;case"option":this.notifications.groups[a[1]].list[a[2]].options[a[3]].value=e}},selectAllColumn:function(t){for(var e=!1,a=0;a<this.notifications.groups[t[0]].list.length;a++)this.notifications.groups[t[0]].list[a].value[t[1]]||e||(e=!0);for(var n=0;n<this.notifications.groups[t[0]].list.length;n++){switch(t[1]){case"default":e&&(this.notifications.groups[t[0]].list[n].value.email=!1,this.notifications.groups[t[0]].list[n].value.device=!1,this.notifications.groups[t[0]].list[n].value.browser=!1);break;case"email":case"device":case"browser":e&&(this.notifications.groups[t[0]].list[n].value.default=!1)}this.notifications.groups[t[0]].list[n].value[t[1]]=e}},submit:function(){var t={},e=!0,a=!1,n=void 0;try{for(var s,i=u()(this.notifications.groups);!(e=(s=i.next()).done);e=!0){var o=s.value,r=!0,c=!1,l=void 0;try{for(var d,v=u()(o.list);!(r=(d=v.next()).done);r=!0){var p=d.value;if(t[p.id]=p.value,void 0!==p.options){var m=!0,f=!1,h=void 0;try{for(var w,b=u()(p.options);!(m=(w=b.next()).done);m=!0){var g=w.value;t[g.id]=g.value}}catch(t){f=!0,h=t}finally{try{!m&&b.return&&b.return()}finally{if(f)throw h}}}}}catch(t){c=!0,l=t}finally{try{!r&&v.return&&v.return()}finally{if(c)throw l}}}}catch(t){a=!0,n=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw n}}_({settings:t}).then(function(t){window.notifyWithTimeout(t.data.success?"success":"error",window.I18n.t("collaborators.edit.notif_items_update_"+(t.data.success?"success":"error"),1500))})},restoreDefaultSettings:function(){var t=this;b().then(function(e){t.notifications.groups=e.data.data.groups})}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"_container",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submit(e)}}},[a("div",{staticClass:"groups"},[t._l(t.notifications.groups,function(e,n){return a("NotificationsGroup",{key:n,attrs:{group:e,captions:t.notifications.captions,closable:0!==n},on:{change:t.change,selectAllColumn:t.selectAllColumn}})}),t._v(" "),a("div",{staticClass:"container_btn_restore"},[a("button",{staticClass:"btn btn-danger btn-inverse restore",attrs:{type:"button"},on:{click:t.restoreDefaultSettings}},[t._v(t._s(t.text.restore))])])],2),t._v(" "),a("div",{staticClass:"container_sticky no-select"},[a("div",{staticClass:"content"},[a("button",{staticClass:"btn btn-success button_save",attrs:{type:"submit"}},[t._v(t._s(t.text.save))]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-inverse btn_cancel",attrs:{type:"reset"}},[t._v(t._s(t.text.cancel))]),t._v(" "),a("captions",{staticClass:"container_captions",attrs:{captions:t.notifications.captions}})],1)])])},staticRenderFns:[]};var et={name:"Index",components:{Header:C,Infos:E,Password:H,Interface:S,Notifications:a("VU/8")(X,tt,!1,function(t){a("IJAc")},"data-v-5a70b163",null).exports},data:function(){return{currentUser:window.current_user,codePgSelected:this.$route.params.tab,menu:window.menu}},watch:{$route:function(){this.codePgSelected=this.$route.params.tab}},methods:{showPage:function(t){this.$router.push(t)},submit:function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i={update_type:a};i[e]=this.getParsedData(t),h(i).then(function(t){null!==n&&n(t)},function(t){null!==s&&s(t)})},submitPassword:function(t){var e={user:this.getParsedData(t)};""===e.user.password||""===e.user.password_confirmation?window.notifyWithTimeout("error",window.I18n.t("register.error_passwords_empty"),1500):e.user.password!==e.user.password_confirmation?window.notifyWithTimeout("error",window.I18n.t("register.error_passwords_mismatch"),1500):""===e.user.current_password?window.notifyWithTimeout("error",window.I18n.t("register.password_update_tip"),1500):w(e).then(function(t){window.notifyWithTimeout("success",window.I18n.t("collaborators.edit.password_update_success"),1500),setTimeout(function(){document.location.reload()},1500)},function(t){window.notifyWithTimeout("error",window.I18n.t("collaborators.edit.password_update_error"),1500)})},getParsedData:function(t){var e={},a=!0,n=!1,s=void 0;try{for(var i,o=u()(t.entries());!(a=(i=o.next()).done);a=!0){var r=i.value,l=v()(r,2),d=l[0],p=l[1];void 0===e[d]?e[d]=p:"object"===c()(e[d])?e[d].push(p):e[d]=[e[d],p]}}catch(t){n=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return e}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page_myprofile"}},[a("div",{staticClass:"myprofile"},[a("div",[a("Header",{staticClass:"header no-select",attrs:{current_user:t.currentUser}}),t._v(" "),a("div",{staticClass:"menu no-select"},t._l(t.menu,function(e,n){return a("div",{key:n,staticClass:"item",class:{selected:e.code==t.codePgSelected},on:{click:function(a){return t.showPage(e.code)}}},[a("span",{staticClass:"icon_menu"},[a("img",{attrs:{src:e.icon.light}}),t._v(" "),a("img",{attrs:{src:e.icon.bold}})]),t._v(" "),a("span",[t._v(t._s(e.label))])])}),0),t._v(" "),a("div",{staticClass:"body"},["notifications"==t.codePgSelected?a("Notifications",{staticClass:"pages",on:{submit:t.submit}}):t._e(),t._v(" "),"interface"==t.codePgSelected?a("Interface",{staticClass:"pages",on:{submit:t.submit}}):t._e(),t._v(" "),"password"==t.codePgSelected?a("Password",{staticClass:"pages",on:{"submit-password":t.submitPassword}}):t._e(),t._v(" "),"infos"==t.codePgSelected?a("Infos",{staticClass:"pages",on:{submit:t.submit}}):t._e()],1)],1)])])},staticRenderFns:[]};var nt=a("VU/8")(et,at,!1,function(t){a("EQZV")},null,null).exports;n.a.use(o.a);var st=new o.a({routes:[{path:"/",redirect:"/infos"},{path:"/",name:"Index",component:nt},{path:"/:tab",name:"IndexTab",component:nt}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:st,components:{App:i},template:"<App/>"})},YMl0:function(t,e){},ZI6v:function(t,e){},fhmM:function(t,e){},"jKR+":function(t,e){},mgdi:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2205c5ce94ada4ef7c02.js.map